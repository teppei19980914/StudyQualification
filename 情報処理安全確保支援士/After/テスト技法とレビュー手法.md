# テスト技法・レビュー手法・品質管理の体系整理

## はじめに

2025年10月のプロジェクトマネージャ試験受験を終え、2026年秋の情報処理安全確保支援士に向けて勉強中です。
本記事を含めた各知識のインデックスや学習の道のりについては、「[情報処理安全確保支援士への道のり(随時更新中)](https://qiita.com/teppei19980914/items/a25279a17b210d6ed9f4)」をご参照ください。
**本記事は学習した内容を記載しています。**

## 該当問題

[情報セキュリティスペシャリスト平成23年秋期 午前Ⅱ 問22](https://www.sc-siken.com/kakomon/23_aki/am2_22.html)
[情報処理安全確保支援士令和6年春期 午前Ⅱ 問20](https://www.sc-siken.com/kakomon/06_haru/am2_20.html)
[情報処理安全確保支援士令和6年春期 午前Ⅱ 問22](https://www.sc-siken.com/kakomon/06_haru/am2_22.html)

## レビュー手法とは

### 定義(エビデンス)

**レビュー(Review)**とは、成果物(仕様書/設計書/ソースコード等)を**実行せずに確認し、欠陥や問題点を早期に発見する活動**です。

#### 代表的な根拠

- IEEE 1028(Software Reviews)
- IPA「ソフトウェア開発データ白書」

### レビューの目的

| 観点 | 内容 |
|---|---|
| 品質 | 欠陥の早期発見 |
| コスト | 修正コスト削減 |
| 知識共有 | 設計意図の共有 |
| プロセス | 標準遵守の確認 |

→ **レビューは「テストより前」に実施されるのが原則**です。

## レビュー手法の分類(試験頻出)

レビュー手法は **形式性の度合い** により分類されます。

| 手法 | 特徴 |
|---|---|
| インスペクション | 最も厳格/公式 |
| ウォークスルー | 説明中心/教育的 |
| ピアレビュー | 比較的自由 |
| パスアラウンド | 回覧型 |

## ウォークスルー(Walkthrough)

### 定義

**ウォークスルー**とは、作成者が成果物の内容/設計意図を説明し、参加者が理解/指摘を行うレビュー手法です。

### 特徴

| 観点 | 内容 |
|---|---|
| 主体 | 作成者 |
| 目的 | 理解促進/初期欠陥発見 |
| 雰囲気 | 教育的/非公式 |
| 対象 | 要件定義/設計初期 |

→ **「正しさの検証」より「理解の共有」重視**です。

### 試験でのポイント

- 司会者が欠陥を洗い出す → ❌
- 作成者が説明する → ✅

## インスペクション

- 役割(司会/記録/作成者)が明確
- チェックリスト使用
- 欠陥検出率が高い

## レビューとテストの違い

| 観点 | レビュー | テスト |
|---|---|---|
| 実行 | しない | する |
| 時期 | 上流 | 下流 |
| コスト | 低 | 高 |
| 効果 | 欠陥早期発見 | 動作確認 |

## テスト手法の全体像(位置づけ)

ソフトウェアテスト手法は、大きく次のように整理できます。

| 観点 | 主な分類 |
|---|---|
| 設計方法 | 仕様ベース/経験ベース/モデルベース |
| 実施主体 | 人手中心/自動化中心 |
| 網羅性 | 高(体系的)/低(探索的) |

## 探索的テスト(Exploratory Testing)

### 定義(ISTQB 用語集)

探索的テストとは、**テスト設計/実行/評価を同時並行で行うテスト手法**です。

### 特徴

| 項目 | 内容 |
|---|---|
| テストケース | 事前に詳細設計しない |
| 実施者 | テスト技術/ドメイン知識に依存 |
| 強み | 想定外の不具合を発見しやすい |
| 弱み | 再現性/網羅性が低い |

### 適用場面

- アジャイル開発
- UI/UX評価
- 新機能の初期検証

→ **「経験/直感を活かすテスト」** である点がポイントです。

## 実験計画法(Design of Experiments：DOE)

### 定義(統計的品質管理)

実験計画法とは、**複数要因が結果に与える影響を、最小回数の試験で効率的に分析する手法**です。

### テストへの応用

- 全組合せテスト(総当たり)は現実的でない
- 直交表などを用いて **代表的な組合せのみテスト**

### 特徴

| 項目 | 内容 |
|---|---|
| 背景理論 | 統計学 |
| 目的 | 効率的な網羅 |
| 強み | 工数削減 |
| 弱み | 相互作用の見落とし可能性 |

### 試験でのキーワード

- **直交表**
- **要因と水準**
- **組合せ最適化**

## 状態遷移テスト(State Transition Testing)

### 定義(ISO/IEC/IEEE 29119)

状態遷移テストとは、**システムの状態と遷移をモデル化し、遷移パターンを検証するテスト手法**です。

### モデル化の例

- 状態：ログアウト/ログイン/ロック
- イベント：入力/タイムアウト/エラー

### 特徴

| 項目 | 内容 |
|---|---|
| モデル | 状態遷移図 |
| 対象 | 状態依存のシステム |
| 強み | 異常遷移検出 |
| 弱み | 状態爆発の可能性 |

### 適用例

- 認証/セッション管理
- 業務ワークフロー
- プロトコル実装

## モデルベースドテスト(Model-Based Testing：MBT)

### 定義(ISO/IEC 29119)

モデルベースドテストとは、**システムの仕様や振る舞いをモデル化し、そのモデルからテストケースを生成する手法**です。

### 使用されるモデル

- 状態遷移モデル
- UML(状態図/アクティビティ図)
- 数理モデル

### 特徴

| 項目 | 内容 |
|---|---|
| テスト生成 | 自動生成可能 |
| 網羅性 | 高い |
| 強み | 再現性/品質向上 |
| 弱み | モデル作成コスト |

→ **状態遷移テストは MBT の一種** と捉えることができます。

## 各テスト手法の比較

| 手法 | 設計方式 | 網羅性 | 属人性 |
|---|---|---|---|
| 探索的テスト | 経験ベース | 低 | 高 |
| 実験計画法 | 統計モデル | 中 | 低 |
| 状態遷移テスト | 状態モデル | 高 | 中 |
| モデルベースドテスト | 仕様モデル | 非常に高 | 低 |

## テストレベルの体系（V字モデル対応）

テストは開発工程と対応づけられ、V字モデルとして体系化されます。

```
要件定義　　　　　　　　受入テスト
　　基本設計　　　　　システムテスト
　　　　詳細設計　　結合テスト
　　　　　　実装　単体テスト
```

| テストレベル | 対応する開発工程 | 確認内容 |
|---|---|---|
| 単体テスト（ユニットテスト） | 実装（コーディング） | 個々のモジュールが正しく動作するか |
| 結合テスト（統合テスト） | 詳細設計 | モジュール間のインタフェースが正しいか |
| システムテスト | 基本設計 | システム全体が要件を満たすか |
| 受入テスト（承認テスト） | 要件定義 | 利用者の要求を満たすか |

### 回帰テスト（リグレッションテスト）

変更・修正後に、既存機能に悪影響が出ていないことを確認するテストです。すべてのテストレベルで実施されます。

| 項目 | 内容 |
|---|---|
| 目的 | 修正による副作用（デグレード）の検出 |
| 実施契機 | バグ修正、機能追加、リファクタリング後 |
| 効率化 | テスト自動化との相性が良い |

## 結合テストの方式

テストは **結合の方向** により分類されます。

### トップダウンテスト

**トップダウンテスト**とは、上位モジュールから下位モジュールへ**段階的に結合しながらテストを行う方式**です。

| 観点 | 内容 |
|---|---|
| 結合順 | 上位 → 下位 |
| 下位未完成 | スタブで代替 |
| 確認しやすい点 | 制御構造/業務フロー |
| 欠点 | 下位処理の検証が遅れる |

### ボトムアップテスト

**ボトムアップテスト**とは、下位モジュールから上位モジュールへ**段階的に結合しながらテストを行う方式**です。

| 観点 | 内容 |
|---|---|
| 結合順 | 下位 → 上位 |
| 上位未完成 | **ドライバ**で代替 |
| 確認しやすい点 | 個々のモジュールの処理内容 |
| 欠点 | 全体の制御構造の検証が遅れる |

### スタブとドライバの違い

| 用語 | 役割 | 使用場面 |
|---|---|---|
| スタブ（Stub） | 未完成の下位モジュールの代替 | トップダウンテスト |
| ドライバ（Driver） | 未完成の上位モジュールの代替（テスト対象を呼び出す） | ボトムアップテスト |

### サンドイッチテスト(折衷テスト)

**サンドイッチテスト**とは、トップダウンテストとボトムアップテストを **並行して実施する折衷方式**です。

```
上位層 ← トップダウン
↑
中間層
↓
下位層 → ボトムアップ
```

#### 利点

| 観点 | 内容 |
|---|---|
| 効率 | テスト期間短縮 |
| バランス | 制御構造と処理内容を同時検証 |
| 実務 | 大規模開発で有効 |

### 並行シミュレーション

**並行シミュレーション**とは、新旧システムを並行稼働させ、同一入力に対する出力結果を比較するテスト手法です。

#### 主な用途

| 用途 | 内容 |
|---|---|
| 移行 | システム更改 |
| 信頼性 | 計算結果の妥当性確認 |
| 業務 | 金融/基幹系 |

#### 注意点

- コストが高い
- 一時的に二重運用が必要

## ホワイトボックステストとブラックボックステスト

テスト設計のアプローチは、内部構造を意識するか否かで大きく2つに分類されます。

### ホワイトボックステスト（構造ベーステスト）

プログラムの**内部構造（ソースコード）を基にテストケースを設計**する手法です。主に単体テストで使用されます。

| 手法 | 説明 |
|---|---|
| 制御フローテスト | 分岐・ループなどの制御構造を網羅 |
| データフローテスト | 変数の定義（def）と使用（use）の経路を検証 |
| 命令網羅（C0） | すべての命令を最低1回実行 |
| 分岐網羅（C1） | すべての分岐の真偽を最低1回実行 |
| 条件網羅（C2） | すべての条件の真偽を最低1回実行 |

### ブラックボックステスト（仕様ベーステスト）

プログラムの**外部仕様を基にテストケースを設計**する手法です。内部構造を意識しません。

#### 同値分割法

入力値を**同じ結果をもたらすグループ（同値クラス）**に分割し、各クラスから代表値を選んでテストする手法です。

| 分類 | 説明 |
|---|---|
| 有効同値クラス | 正常に処理される入力範囲 |
| 無効同値クラス | エラーとなる入力範囲 |

#### 境界値分析

同値クラスの**境界付近の値**を重点的にテストする手法です。バグは境界値付近に集中するため、同値分割法と併用します。

例（1〜100が有効範囲の場合）：
- テスト値：0, 1, 2, 99, 100, 101

#### 原因結果グラフ（CEG）/ デシジョンテーブル

| 手法 | 説明 |
|---|---|
| 原因結果グラフ | 入力条件（原因）と出力（結果）の論理関係を図式化 |
| デシジョンテーブル（決定表） | 条件の組合せと対応するアクションを表形式で整理 |

### ペアワイズテスト（All-Pairs法）

実験計画法の簡易応用で、**任意の2要因の全組合せを網羅**する手法です。全組合せテストに比べてテスト件数を大幅に削減できます。

### ホワイトボックスとブラックボックスの比較

| 観点 | ホワイトボックス | ブラックボックス |
|---|---|---|
| 着目点 | 内部構造（コード） | 外部仕様（入出力） |
| 主な適用 | 単体テスト | 結合テスト〜受入テスト |
| 利点 | 論理的な網羅性 | 利用者視点での検証 |
| 欠点 | 仕様漏れを検出しにくい | 内部の論理欠陥を検出しにくい |

## セキュリティテスト手法（支援士試験最重要）

情報処理安全確保支援士試験では、セキュリティに特化したテスト手法が**午前II・午後問題ともに頻出**です。

### セキュリティテスト手法の分類

| 手法 | 分類 | 説明 |
|---|---|---|
| **SAST** | 静的テスト | ソースコードを実行せずに解析 |
| **DAST** | 動的テスト | 実行中のアプリケーションを外部から検査 |
| **IAST** | 静的＋動的 | 実行中にエージェントで内部から解析 |
| **ファジング** | 動的テスト | 異常データを大量に送り込み、予期しない挙動を検出 |
| **ペネトレーションテスト** | 動的テスト | 実際の攻撃手法でシステムに侵入を試行 |
| **脆弱性診断** | 動的テスト | 既知の脆弱性パターンをスキャンして検出 |
| **SCA** | 静的テスト | 使用するOSSライブラリの脆弱性を検査 |

### SAST（Static Application Security Testing：静的アプリケーションセキュリティテスト）

ソースコードやバイナリを**実行せずに解析**し、脆弱性を検出する手法です。

| 項目 | 内容 |
|---|---|
| 実施時期 | 開発中（コーディング〜ビルド段階） |
| 検出対象 | SQLインジェクション、バッファオーバーフロー、ハードコードされた資格情報等 |
| 利点 | 早期発見（シフトレフト）、網羅的なコード解析 |
| 欠点 | 偽陽性（誤検出）が多い、実行時の問題は検出不可 |

### DAST（Dynamic Application Security Testing：動的アプリケーションセキュリティテスト）

実行中のアプリケーションに対し、**外部からリクエストを送り**脆弱性を検出する手法です。

| 項目 | 内容 |
|---|---|
| 実施時期 | テスト環境・ステージング環境で実施 |
| 検出対象 | XSS、SQLインジェクション、認証の不備、セッション管理の脆弱性等 |
| 利点 | 実際の攻撃に近い検証、言語非依存 |
| 欠点 | 脆弱性のコード上の位置が特定しにくい、実行環境が必要 |

### SAST vs DAST の比較（試験頻出）

| 観点 | SAST | DAST |
|---|---|---|
| 解析対象 | ソースコード／バイナリ | 実行中のアプリケーション |
| テスト方式 | ホワイトボックス型 | ブラックボックス型 |
| 実施時期 | 開発初期（コーディング中） | テスト・運用段階 |
| 実行環境 | 不要 | 必要 |
| 偽陽性 | 多い | 少ない |
| コード位置の特定 | 可能 | 困難 |

### IAST（Interactive Application Security Testing）

アプリケーション内部に**エージェントを組み込み**、実行中にコードの動作を監視して脆弱性を検出する手法です。SASTとDASTの利点を組み合わせたアプローチです。

### ファジング（Fuzz Testing）

テスト対象に**問題を引き起こしそうな大量のデータ（ファズ）を自動生成して入力**し、予期しない動作や脆弱性を検出するテスト手法です。

| 項目 | 内容 |
|---|---|
| 入力データ | ランダム値、境界値、異常値等を自動生成 |
| 検出対象 | バッファオーバーフロー、メモリリーク、クラッシュ、未処理例外 |
| 利点 | テスターが想定しない入力パターンによる未知の脆弱性を発見 |
| 欠点 | 認証や複雑なビジネスロジックの脆弱性は検出困難 |

#### ファジングの種類

| 種類 | 説明 |
|---|---|
| ミューテーションベース | 既存の正常データを変異させてファズを生成 |
| ジェネレーションベース | プロトコル仕様に基づきファズをゼロから生成 |

### ペネトレーションテスト（侵入テスト）

実際の攻撃者の視点で**システムへの侵入を試行**し、セキュリティ上の問題を検証するテストです。

| 項目 | 内容 |
|---|---|
| 目的 | 攻撃者が実際に侵入可能かを検証 |
| 実施者 | セキュリティ専門家（倫理的ハッカー） |
| 範囲 | 事前に定めたスコープ内で実施 |
| 成果物 | 報告書（発見事項、リスク評価、対策提言） |

#### ペネトレーションテストの種類

| 種類 | 説明 |
|---|---|
| ブラックボックス型 | テスターに事前情報を与えない（外部攻撃者の視点） |
| ホワイトボックス型 | ソースコード・設計情報を開示（内部犯行の視点） |
| グレーボックス型 | 一部の情報のみ開示 |

### 脆弱性診断（脆弱性スキャン）

既知の脆弱性パターンに基づき、**自動スキャンツールでシステムを検査**する手法です。

| 項目 | 脆弱性診断 | ペネトレーションテスト |
|---|---|---|
| 方式 | 自動ツール中心 | 手動（専門家）中心 |
| 目的 | 既知の脆弱性の網羅的検出 | 実際の侵入可否の検証 |
| 深さ | 広く浅く | 狭く深く |
| コスト | 比較的低い | 高い |

### SCA（Software Composition Analysis：ソフトウェアコンポジション解析）

アプリケーションが使用する**OSSライブラリやサードパーティコンポーネントの脆弱性**を検出する手法です。

| 項目 | 内容 |
|---|---|
| 検出対象 | 既知のCVE（共通脆弱性識別子）に該当するOSSの脆弱性 |
| 関連技術 | SBOM（Software Bill of Materials：ソフトウェア部品表） |
| 重要性 | サプライチェーン攻撃対策として近年重要性が増大 |

### セキュリティテストの実施タイミング（シフトレフト）

```
要件定義 → 基本設計 → 詳細設計 → 実装 → テスト → 運用
                                    ↑         ↑       ↑
                                   SAST      DAST   脆弱性診断
                                   SCA     ファジング ペネトレーションテスト
                                   IAST
```

※ **シフトレフト**：セキュリティテストをなるべく早い段階（左側）で実施することで、修正コストを削減する考え方

## バグ埋め込み法(Bug Seeding/Error Seeding)

### 定義

**既知個数のバグ(種バグ)を意図的に埋め込み**、テストやレビューで見つかった「種バグの発見率」から、**埋め込み前から潜在していた未知バグの総数や残存数を推定する**考え方です。

## バグ埋め込み法の記号の定義

- **S**：埋め込んだバグ(種バグ)の総数
- **m**：発見された種バグ数(S のうち見つかった数)
- **T**：テスト開始前に潜在していたバグ総数(埋め込みバグを含まない「本来の潜在バグ数」)
- **n**：発見された総バグ数(= 種バグ + 本来バグ の合計で見つかった数)

このとき、**発見された本来バグ数**は「n − m」です。

## 成立のための前提("式が成り立つ理由")

バグ埋め込み法の推定は、典型的に次の仮定を置きます。

- **種バグと本来バグが、同程度の見つかりやすさ(検出確率)を持つ**
- テスト担当者は「どれが種バグか」を知らない(偏りが出ない)
- 種バグは本来バグと同様の分布/難易度で埋め込まれている

この仮定がないと、種バグの発見率から本来バグの発見率を外挿できません。

## 求める式の導出(S, T, m, n の関係)

### 「発見率が同じ」という置き方

設問の仮定より、種バグと本来バグの**発見率(検出確率)が同じ**とみなします。

- 種バグの発見率：
```
m/S
```

- 本来バグの発見率(本来バグ T 個のうち n−m 個発見)：
```
(n-m)/T
```

仮定より両者は等しいので、

```
m/S = (n-m)/T
```

### 変形して関係式へ

両辺を交差乗算すると、

```
mT = S(n-m)
```

これが **S, T, m, n の関係式**です。
さらに **T を解く**(潜在バグ総数の推定式)なら、

```
T = S(n-m)/m
```

## 試験での"読み替え"ポイント(よくあるひっかけ回避)

- **n は総発見バグ数**なので、そこには種バグ m が含まれる
  → 本来バグの発見数は **n − m**
- 残存本来バグ数を問われたら
```
T-(n-m)
```
- 「検出率」を先に作ると式を立てやすい
    - 種：m/S
    - 本来：(n−m)/T

## バグ埋め込み法の限界/注意点

バグ埋め込み法は、前提が崩れると推定が大きく外れます。
代表例：

- 種バグが簡単すぎる／難しすぎる(見つかりやすさが違う)
- 種バグの"埋め込み位置"が偏る(特定モジュールだけ等)
- テストが探索的で、発見確率が時間とともに変動する
- 種バグの存在がテストチームに知られ、行動が変化する

したがって、試験では「仮定の下での推定」を割り切って扱い、実務では補助的に用いる、という整理が安全です。

## 品質管理の周辺知識

### 欠陥除去率(DRE: Defect Removal Efficiency)

工程内でどれだけ欠陥を除去できたかを測る指標です(ただし真の総欠陥数が必要になる点が課題)。

### テストカバレッジ（網羅率）

テストがどれだけコードを網羅したかを示す指標です。ホワイトボックステストの品質基準として使用されます。バグ埋め込み法は「カバレッジそのもの」ではなく「欠陥検出の進捗推定」という位置づけです。

#### カバレッジ基準の比較（試験頻出）

| 基準 | 別名 | 説明 | 網羅性 |
|---|---|---|---|
| 命令網羅（Statement Coverage） | C0 | すべての命令（文）を最低1回実行 | 低 |
| 分岐網羅（Branch Coverage） | C1 | すべての分岐の真（True）と偽（False）を最低1回実行 | 中 |
| 条件網羅（Condition Coverage） | C2 | すべての個々の条件の真偽を最低1回実行 | 中〜高 |
| 判定条件/条件網羅（DC/CC） | - | C1とC2の両方を満たす | 高 |
| 複合条件網羅（MCC） | - | すべての条件の組合せを網羅 | 非常に高 |
| MC/DC | - | 各条件が判定結果に独立して影響することを確認 | 高（航空・安全系で要求） |

#### カバレッジ基準の包含関係

```
複合条件網羅（MCC）
　　↓（包含）
MC/DC
　　↓（包含）
判定条件/条件網羅（DC/CC）
　　↓（包含）
分岐網羅（C1） ＋ 条件網羅（C2）
　　↓（包含）
命令網羅（C0）
```

※ **C1（分岐網羅）を100%達成すれば、C0（命令網羅）は自動的に100%になる**

## 全体整理表

### テスト技法・レビュー手法の分類と試験頻出ポイント

| カテゴリ | キーワード | 試験での出題ポイント |
|---|---|---|
| レビュー手法 | インスペクション/ウォークスルー | 形式性の違い、作成者主体 vs 司会者主体 |
| テストレベル | V字モデル、単体〜受入 | 各レベルと開発工程の対応関係 |
| 結合テスト方式 | トップダウン/ボトムアップ | **スタブ vs ドライバ**の違い |
| ブラックボックス | 同値分割/境界値分析/デシジョンテーブル | 入力値の分類とテスト設計 |
| ホワイトボックス | C0/C1/C2、データフロー | **カバレッジ基準の包含関係** |
| セキュリティテスト | SAST/DAST/ファジング/ペネトレーションテスト | **SAST vs DAST の違い**、ファジングの特徴 |
| 品質推定 | バグ埋め込み法 | T = S(n-m)/m の公式と前提条件 |
| テスト管理 | 回帰テスト、テスト自動化 | デグレード防止、シフトレフト |

### 支援士試験で特に重要なセキュリティ関連テスト知識

| テーマ | 午前IIでの出題 | 午後での出題 |
|---|---|---|
| ファジング | テスト手法の特徴を問う選択肢 | セキュリティテスト計画 |
| SAST/DAST | 静的 vs 動的の比較 | セキュア開発プロセス |
| ペネトレーションテスト | ブラック/ホワイト/グレーボックスの違い | インシデント対応・脆弱性評価 |
| 脆弱性診断 | ペネトレーションテストとの違い | セキュリティ運用の問題 |
| SCA/SBOM | OSSの脆弱性管理 | サプライチェーンセキュリティ |

### テスト設計アプローチの使い分け

| テスト対象 | 推奨アプローチ | 代表手法 |
|---|---|---|
| 個々の関数・メソッド | ホワイトボックス | 制御フローテスト、カバレッジ測定 |
| 入出力仕様 | ブラックボックス | 同値分割、境界値分析 |
| 複数要因の組合せ | 統計的手法 | ペアワイズテスト、実験計画法 |
| 状態を持つシステム | モデルベース | 状態遷移テスト |
| 未知の脆弱性 | セキュリティテスト | ファジング、ペネトレーションテスト |
| OSSの脆弱性 | コンポジション解析 | SCA |
| Webアプリの脆弱性 | アプリケーションセキュリティテスト | SAST + DAST |
