# UML 2.x における代表的ダイアグラム徹底整理

## はじめに

2025年10月のプロジェクトマネージャ試験受験を終え、2026年春の情報処理安全確保支援士に向けて勉強中です。  
本記事を含めた各知識のインデックスや学習の道のりについては、「[情報処理安全確保支援士への道のり(随時更新中)](https://qiita.com/teppei19980914/items/6411cb70f2937cbefdcc)」をご参照ください。  
**本記事は学習した内容を記載しています。**  

## 該当問題

[情報処理安全確保支援士平成30年春期 午前Ⅱ 問22](https://www.sc-siken.com/kakomon/30_haru/am2_22.html)  

## 1. UML 2.x の概要

UML(Unified Modeling Language)は、OMG(Object Management Group)が標準化している**システム/ソフトウェアの構造と振る舞いを可視化するためのモデリング言語**です。  

UML 2.x では、ダイアグラムは大きく以下に分類されます。  

- **構造図(Structure Diagrams)**：静的な構造／クラス／コンポーネント／配置など  
- **振る舞い図(Behavior Diagrams)**：動作やオブジェクト間のやり取り(相互作用)など  

試験的には、を分類できることが重要です。  

- 「どの図が“構造”を表すのか」  
- 「どの図が“振る舞い／相互作用”を表すのか」  

## 2. アクティビティ図(Activity Diagram)

### 2.1 定義と目的

アクティビティ図は、**アクション(処理)の実行順序や分岐/並行/結合などを表現する図**です。ビジネスプロセスやワークフロー、アルゴリズム手順などをモデル化するのに適しています。  
UML 2.0 では、アクティビティの意味論が **ステートマシン的な解釈から「トークンフロー(Petri Net に近い)」へ刷新**されました。  

### 2.2 主な要素

- **アクション(Action)**  
  - アクティビティ内の最小の実行単位(これ以上分解しない処理)  
- **開始ノード／終了ノード**  
  - ワークフローの開始/終了を表す  
- **制御フロー／オブジェクトフロー**  
  - 制御の流れ／データ(オブジェクト)の流れを矢印で表現  
- **分岐(Decision)/マージ(Merge)**  
  - 条件による分岐／条件の合流  
- **フォーク(Fork)/ジョイン(Join)**  
  - 並列実行の開始／同期  

### 2.3 活用イメージ(支援士的観点)

- 認証プロセス(ID/パスワード入力 → 認証サーバ照会 → 成功／失敗)  
- インシデント対応フロー  
- 承認ワークフロー(申請 → 承認 → 払出 等)  

**ビジネスプロセスやセキュリティ対策プロセスを説明する午後問題**では、アクティビティ図的な思考整理が求められます。

## 3. コミュニケーション図(Communication Diagram)

### 3.1 定義と目的

コミュニケーション図(UML 1.x ではコラボレーション図)は、**オブジェクト(または役割)間の関係と、その間でやり取りされるメッセージの流れを表現する相互作用図**です。  
**「構造(クラス図／オブジェクト図のような関連)＋メッセージのやり取り」をひとつの図にまとめたイメージです。**  

### 3.2 主な要素

- **ライフライン(Lifeline)**  
  - オブジェクトやクラスのインスタンス  
- **リンク(Association/Connector)**  
  - オブジェクト間の関連  
- **メッセージ(Message)**  
  - 呼び出し/通知/応答など  
  - 多くの場合、「1」「1.1」「2」…のような**シーケンス番号**で順序付け  

### 3.3 シーケンス図との違い(試験でよく問われるポイント)

- **シーケンス図**  
  - 縦方向に時間軸を取り、メッセージの「時間順序」を明確に表現  
- **コミュニケーション図**  
  - オブジェクトの結び付き/メッセージのやり取りを「ネットワーク構造」に近い形で表現(時間軸は明示しないが番号で順序を示す)  

→ 問題文に「オブジェクト間の関連とメッセージの流れを同時に把握したい」とあればコミュニケーション図が想定されている可能性が高いです。  

## 4. シーケンス図(Sequence Diagram)

### 4.1 定義と目的

シーケンス図は、**時間の経過に沿って、オブジェクト間でやり取りされるメッセージの順序を表現する相互作用図**です。  

UML 2.0 では、下記が追加され、表現力が向上しています。  

- フラグメント(loop, alt, opt など)  
- 並行処理(par)  
- ライフラインの分岐など  

### 4.2 主な要素

- **ライフライン(Lifeline)**：オブジェクト／アクター  
- **アクティベーションバー**：処理中の期間  
- **同期／非同期メッセージ**  
- **戻りメッセージ(return)**  
- **フラグメント(alt/opt/loop/par など)**：制御構造  

### 4.3 活用イメージ

**プロトコルのシーケンスや API 呼び出しの順序を説明する際に最も適している図**です。  

- 認証シーケンス(クライアント → Web サーバ → 認証サーバ)  
- 3D セキュアにおけるブラウザ／加盟店／カード会社のやり取り  
- OAuth2.0 のリダイレクトフロー  

## 5. ユースケース図(Use Case Diagram)

### 5.1 定義と目的

ユースケース図は、**システムに対して外部のアクターがどのような目的(ユースケース)で利用するかを俯瞰的に示す図**です。  

UML 2.0 でも基本的な考え方は変わらず、下記で構成されます。  
- アクター(Actor)  
- ユースケース(Use Case)  
- サブジェクト(システム境界)  
- 関係(include／extend／汎化)  

### 5.2 主な要素

- **アクター**：システム外の利用者／外部システム  
- **ユースケース**：システムが提供する機能単位  
- **システム境界(Subject)**：対象システムの範囲  
- **関係**：  
  - include：必ず呼び出される共通処理  
  - extend：条件により拡張される処理  
  - 汎化：アクター／ユースケースの一般化  

### 5.3 支援士試験での典型的な使われ方

- 情報系システムの「利用者と機能」の全体像を示す  
- アクセス制御/権限設計の説明に用いる(どのアクターがどの機能にアクセスするか)  
- セキュリティ要件(監査ログ出力、二要素認証など)を特定のユースケースに紐づけて議論する  

## 6. UML 2.x のダイアグラム体系(13～14種)と試験での押さえどころ

OMG の UML 2.x 仕様では、ダイアグラムはおおむね **構造図 7 種＋振る舞い図 7 種(計 14 種)** に整理されています。  

### 6.1 構造図(Structure Diagrams)

静的構造/クラス/コンポーネント/配置などを表します。  

- クラス図(Class Diagram)  
- オブジェクト図(Object Diagram)  
- コンポーネント図(Component Diagram)  
- 配置図(Deployment Diagram)  
- 複合構造図(Composite Structure Diagram)  
- パッケージ図(Package Diagram)  
- プロファイル図(Profile Diagram)※試験によっては除外され「13種」とされることもある  

### 6.2 振る舞い図(Behavior Diagrams)

システムの動作、状態遷移、相互作用を表します。

- ユースケース図(Use Case Diagram)  
- アクティビティ図(Activity Diagram)  
- 状態マシン図(State Machine Diagram)  
- シーケンス図(Sequence Diagram)  
- コミュニケーション図(Communication Diagram)  
- 相互作用概要図(Interaction Overview Diagram)  
- タイミング図(Timing Diagram)  

## 7. 試験(平成30年春期 午前Ⅱ 問22)に即した視点整理

問題では概ね以下のような観点が問われます(要旨ベース)。

- **ユースケース図**  
  - 「利用者とシステムの関係」を俯瞰し、要求機能を整理する図  
- **シーケンス図**  
  - オブジェクト間の「メッセージの時間順序」を詳細に把握する図  
- **コミュニケーション図**  
  - オブジェクト間の「関連＋メッセージの流れ」を構造的に把握する図  
- **アクティビティ図**  
  - 業務や処理の「流れ(プロセス)」を表現する図  

つまり、該当問題の内容で整理すると、下記のような**対応付けを選ばせる問題構造**になっていると考えられます。

- 「オブジェクト間の動作シーケンス → シーケンス図」  
- 「オブジェクト間の関連＋メッセージ → コミュニケーション図」  
- 「業務フロー／処理手順 → アクティビティ図」  
- 「ユーザと機能の関係 → ユースケース図」  

## 8. まとめ(使い分けの早見表)

| 図 | 主な用途 | 時間軸 | 構造の強調 | よくある出題ポイント |
|----|----------|--------|------------|------------------------|
| ユースケース図 | ユーザとシステム機能の関係 | × | △ | 要件定義／アクター/機能の俯瞰 |
| アクティビティ図 | 業務プロセス／処理フロー | △(順序はあるが厳密な時間ではない) | × | 分岐／並列／条件遷移の表現 |
| シーケンス図 | オブジェクト間メッセージの時間順序 | ◎ | △ | プロトコル／API 呼び出し順序 |
| コミュニケーション図 | オブジェクトの関係＋メッセージ | △(番号で表現) | ◎ | 構造と振る舞いの両方をざっくり把握 |
| クラス図 | クラス/関連/継承構造 | × | ◎ | 静的構造の設計/オブジェクト指向設計 |
