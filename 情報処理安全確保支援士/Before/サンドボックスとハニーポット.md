# サンドボックスとハニーポット

## はじめに

2025年10月のプロジェクトマネージャ試験受験を終え、2026年春の情報処理安全確保支援士に向けて勉強中です。  
本記事を含めた各知識のインデックスや学習の道のりについては、「[情報処理安全確保支援士への道のり(随時更新中)](https://qiita.com/teppei19980914/items/6411cb70f2937cbefdcc)」をご参照ください。  
**本記事は学習した内容を記載しています。**  

## 該当問題

[情報セキュリティスペシャリスト平成26年秋期 午前Ⅱ 問17](https://www.sc-siken.com/kakomon/26_aki/am2_17.html)  
[情報処理安全確保支援士令和5年秋期 午前Ⅱ 問12](https://www.sc-siken.com/kakomon/05_aki/am2_12.html)  

## サンドボックス(Sandbox)とは  

サンドボックスとは、**プログラムを隔離された環境で実行し、システム本体への影響を防ぐための技術**です。  

用途：  

- マルウェア解析  
- メール添付ファイルの安全性確認  
- Webブラウザの隔離動作  
- ゼロデイ攻撃の検知  

#### サンドボックスの方式  

NIST SP 800-94 に基づき下記のように分類されます。  

##### OSレベルの隔離  

- Linux Namespaces/cgroups  
- Windows Sandbox/WDAG  
- 仮想メモリ領域の分離  

##### 仮想化ベース  

- VMware/VirtualBox/QEMU  
- Hypervisor によりゲストOSを完全隔離  

##### アプリケーションサンドボックス  

- Chrome/Edge のプロセス隔離  
- Android アプリのサンドボックス  

#### サンドボックスのメリット  

- 未知マルウェアも安全に解析可能  
- OSや実システムの改ざんを防ぐ  
- EDR や メールセキュリティでの標準技術  

#### サンドボックスの弱点  

- Anti-Sandbox 技術で検知/回避される可能性  
- 実機動作と完全一致しない  
- リソース消費が大きいことがある  

## ハニーポット(Honeypot)とは  

ハニーポットとは **攻撃者を誘導し、攻撃手法を観察/記録するための疑似システム**です(NIST SP 800-94)。  

#### 主な目的  

- 攻撃ツール/マルウェアの収集  
- 攻撃者の挙動分析  
- 侵入の初動(IOCs)を取得  
- 組織全体の防御力向上  

#### ハニーポットの分類  

##### Low-interaction Honeypot  

- 最小限のサービスを偽装  
- リスクが低い  
- 例：Honeyd  

##### High-interaction Honeypot

- 実システムを用いる  
- 深い分析が可能だがリスク高  
- 例：Cowrie/Kippo  

#### 設置時の注意点  

- 攻撃踏み台として悪用される危険  
- 本番ネットワークとは完全隔離する必要  
- 継続的な監視が必須  

## サンドボックスとハニーポットの比較

|観点|サンドボックス|ハニーポット|
|---|---|---|
|目的|マルウェアなどの安全な実行環境|攻撃者を誘導し観測|
|対象|ファイル/プログラム|攻撃者|
|技術カテゴリ|隔離(Isolation)技術|欺罔(Deception)技術|
|リスク|比較的低い|誤用されるリスクあり|
|主用途|マルウェア解析、事前検知|攻撃情報収集、早期警戒|

## セキュリティ向上のための関連技術/周辺知識

### IDS(Intrusion Detection System)

侵入を検知する仕組みです。  

- シグネチャ型(パターン照合)  
- アノマリ型(異常検知)  

### IPS(Intrusion Prevention System)

IDS に加えて **攻撃通信の遮断**を行います。  

### WAF(Web Application Firewall)

SQLインジェクション、XSS など Web 攻撃を防御します。  

### EDR(Endpoint Detection and Response)

エンドポイント振る舞い監視＋サンドボックス連携によるマルウェア解析します。  

### SIEM(Security Information and Event Management)

FWやプロキシサーバ、CASBなどのログデータを収集・分析して、攻撃を検知する機能を高度化したセキュリティ機器です。  
主要機能として、①統合ログ管理サーバと同等の機能・ログの検索、②異常検知、③アラート通知／レポート出力機能があります。  

### SOAR(Security Orchestration，Automation and Response)

サイバー攻撃を監視する専任組織であるSOCにおける、監視業務やインシデント対応手順の自動化、効率化を進める体制や技術、ソリューションのことを言います。  

### Deception Technology  

ハニーポットの発展形。偽ファイル/偽ネットワーク/偽資格情報を配置し、攻撃者を欺きます。  
